CommunicationProtocol: 
  Name: "Synchronous" # Others are "Asynchronous" and "SemiSynchronous"
  
TerminationSignals:
  # In Synchronous Execution if any of the following 
  # conditions is satisifed then the federation exits.
  FederationRounds: 3 # this is only applicable in synchronous and semi-synchronous execution
  ExecutionCutoffTimeMins: null
  EvaluationMetric: "accuracy"
  EvaluationMetricCutoffScore: 1.0

ModelStoreConfig:  # Example for In-Memory (HashMap) Model Store
  ModelStore: "InMemory" # Others are "InMemory", "Redis"
  EvictionPolicy: "LineageLengthEviction" # Others are "NoEviction", "LineageLengthEviction"
  LineageLength: 1 # This field is only applicable if EvictionPolicy is set to "LineageLengthEviction"

# ModelStoreConfig:  # Example for Redis Model Store
#   ModelStore: "Redis" # Others are "InMemory", "Redis" - Careful Redis requires the server to be running!
#   ModelStoreHostname: "localhost" # This field is only applicable if ModelStore is set to "Redis"
#   ModelStorePort: 6379 # This field is only applicable if ModelStore is set to "Redis"
#   EvictionPolicy: "LineageLengthEviction" # Others are "NoEviction", "LineageLengthEviction"
#   LineageLength: 1 # This field is only applicable if EvictionPolicy is set to "LineageLengthEviction"

EncryptionScheme: # Optional. If provided run with it, else disabled.
  Name: "CKKS" # Others are "CKKS" (a fully-homomorphic encryption scheme).
  BatchSize: 4096
  ScalingFactorBits: 52

GlobalModelConfig:
  AggregationRule: "SecAgg" # Others are FedAvg (for Sync & Semi-Sync), FedStride (for Sync & Semi-Sync), FedRec (for Asynchronous), SecAgg (for {Sync, Semi-Sync, Async} + {CKKS, Masking})
  ScalingFactor: "NumTrainingExamples" # Others are NumCompletedBatches, NumParticipants
  ParticipationRatio: 1

LocalModelConfig:
  BatchSize: 32
  LocalEpochs: 1
  OptimizerParams:  # Provide optimizer parameters as CamelCase.
    LearningRate: 0.01

# Controller Configurations
Controller:
  ProjectHome: "/metisfl"
  ConnectionConfig:
    Hostname: "localhost"
    Username: "root"
    Password: "root"
    # OnLoginCommand: "source /etc/profile" # Optional
  SSLConfig: # Optional
    PrivateKey: "/metisfl/metisfl/resources/ssl/server-key.pem"
    PublicCertificate: "/metisfl/metisfl/resources/ssl/server-cert.pem"
  GRPCServer:
    Hostname: "localhost"
    Port: 50051

# Learners Configurations.
Learners:
  - ProjectHome: "/metisfl"
    ConnectionConfig:
      Hostname: "localhost"
      Username: "root"
      Password: "root"
      # OnLoginCommand: "source /etc/profile" # Optional
    GRPCServer:
      Hostname: "localhost"
      Port: 50052
    SSLConfig: # Optional
        PrivateKey: "/metisfl/metisfl/resources/ssl/server-key.pem"
        PublicCertificate: "/metisfl/metisfl/resources/ssl/server-cert.pem"
    CudaDevices: [0]
